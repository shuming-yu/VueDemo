{"version":3,"file":"js/507.032f8637.js","mappings":"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","sources":["webpack://shuming-yu/./src/components/Pagination.vue","webpack://shuming-yu/./src/components/Pagination.vue?33dc","webpack://shuming-yu/./src/views/Orders.vue","webpack://shuming-yu/./src/components/OrderModal.vue","webpack://shuming-yu/./src/components/OrderModal.vue?b91a","webpack://shuming-yu/./src/views/Orders.vue?3d0e"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.current_page === 1 }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"updatePage(pages.current_page - 1)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page\"\r\n        :class=\"{ active: page === pages.current_page }\"\r\n      >\r\n        <!-- 從資料庫傳回頁碼相同, 加入 active 效果 -->\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\r\n          {{ page }}\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.current_page === pages.total_pages }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"updatePage(pages.current_page + 1)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// 分頁模板 :  https://github.com/hexschool/vue3-course-api-wiki/wiki/%E8%AA%B2%E7%A8%8B%E9%83%A8%E5%88%86%E6%A8%A1%E6%9D%BF#%E5%8A%A0%E5%85%A5%E5%88%86%E9%A0%81%E5%88%87%E6%8F%9B\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: [\"pages\"],\r\n\r\n  methods: {\r\n    updatePage(page) {\r\n      // page = 頁碼\r\n      this.$emit(\"emit-pages\", page);\r\n    },\r\n  },\r\n};\r\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=1e476400\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Code\\\\VueDemo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <table class=\"table mt-4\">\r\n    <thead>\r\n      <tr>\r\n        <th>購買時間</th>\r\n        <th>Email</th>\r\n        <th>購買款項</th>\r\n        <th>應付金額</th>\r\n        <th>是否付款</th>\r\n        <th>編輯</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <template  v-for=\"item in orders\" :key=\"item.id\">\r\n        <tr>\r\n          <td>{{ $filters.date(item.create_at) }}</td>\r\n          <td>{{ item.user.email }}</td>\r\n          <td class=\"text-right\">\r\n            <ul class=\"list-unstyled\">\r\n              <li v-for=\"product in item.products\" :key=\"product.id\">\r\n                {{ product.product.title }} - 數量 : {{ product.qty }} {{ product.product.unit }}\r\n              </li>\r\n            </ul>\r\n          </td>\r\n          <td class=\"text-right\">{{ $filters.currency(item.total) }} $</td>\r\n          <td>\r\n            <div class=\"form-check form-switch\">\r\n              <input class=\"form-check-input\" type=\"checkbox\" :id=\"`paidSwitch${item.id}`\"\r\n                      v-model=\"item.is_paid\"\r\n                      @change=\"confirmOrder(item)\">\r\n              <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                <span class=\"text-success\" v-if=\"item.is_paid\">已付款</span>\r\n                <span class=\"text-danger\" v-else>未付款</span>\r\n              </label>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <button class=\"btn btn-outline-primary btn-sm\" @click=\"openOrderModal(false, item)\">檢視</button>\r\n              <button class=\"btn btn-outline-danger btn-sm\" @click=\"opendelModal(item)\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n  </table>\r\n  <OrderModal ref=\"orderModal\"\r\n              :propOrder=\"tempOrder\"\r\n              @confirm-order=\"confirmOrder\"></OrderModal>\r\n  <DelModal ref=\"delModal\"\r\n            :item=\"tempOrder\"\r\n            @delProdcut=\"delOrder\"></DelModal>\r\n  <Pagination :pages=\"pagination\"\r\n              @emit-pages=\"getOrders\"></Pagination>\r\n</template>\r\n\r\n<script>\r\nimport OrderModal from \"@/components/OrderModal.vue\";\r\nimport DelModal from \"@/components/DelModal.vue\";\r\nimport Pagination from \"@/components/Pagination.vue\";\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      orders: [], // 訂單資訊\r\n      pagination: {}, // 分頁\r\n      tempOrder: {},  // 外層資料傳送接收\r\n      isNew: false,\r\n      isLoading: false,\r\n    };\r\n  },\r\n\r\n  inject: [\"emitter\"],\r\n\r\n  components: {\r\n    OrderModal,\r\n    DelModal,\r\n    Pagination,\r\n  },\r\n\r\n  methods: {\r\n    //取得訂單列表 api = https://github.com/hexschool/vue3-course-api-wiki/wiki/%E7%AE%A1%E7%90%86%E6%8E%A7%E5%88%B6%E5%8F%B0-%5B%E9%9C%80%E9%A9%97%E8%AD%89%5D#%E5%8F%96%E5%BE%97%E8%A8%82%E5%96%AE%E5%88%97%E8%A1%A8\r\n    getOrders(page = 1) {\r\n      this.isLoading = true;\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${ page }`;\r\n      this.$http.get(api).then((res) => {\r\n        // console.log(res.data);\r\n        this.isLoading = false;\r\n        this.orders = res.data.orders;\r\n        this.pagination = res.data.pagination;\r\n        console.log(this.orders);\r\n      });\r\n    },\r\n    \r\n    openOrderModal(isNew, item) {\r\n      this.tempOrder = { ...item };\r\n      this.isNew = isNew;\r\n      // console.log(this.isNew, this.tempOrder);\r\n\r\n      const openModal = this.$refs.orderModal;\r\n      openModal.showModal();\r\n    },\r\n\r\n    confirmOrder(item) {\r\n      const paid = {\r\n        is_paid: item.is_paid,\r\n      };\r\n      //修改訂單 api = https://github.com/hexschool/vue3-course-api-wiki/wiki/%E7%AE%A1%E7%90%86%E6%8E%A7%E5%88%B6%E5%8F%B0-%5B%E9%9C%80%E9%A9%97%E8%AD%89%5D#%E4%BF%AE%E6%94%B9%E8%A8%82%E5%96%AE\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${ item.id }`;\r\n      this.$http.put(api, { data: paid })\r\n          .then((res) =>{\r\n            console.log(res);\r\n            if(res.data.success) {\r\n              this.emitter.emit('push-message', {\r\n                style: 'success',\r\n                title: '更新訂單資訊成功',\r\n              })\r\n            }else{\r\n              this.emitter.emit('push-message', {\r\n                style: 'danger',\r\n                title: '更新訂單資訊失敗',\r\n                content: res.data.message.join(\"、\"), // 失敗訊息內容\r\n              })\r\n            }\r\n            this.getOrders();\r\n            const openModal = this.$refs.orderModal;\r\n            openModal.hideModal();\r\n          })\r\n    },\r\n\r\n    opendelModal(item) {\r\n      this.tempOrder = { ...item };\r\n      const opendelModal = this.$refs.delModal;\r\n      opendelModal.showModal();\r\n    },\r\n    delOrder() {\r\n      //刪除訂單 api = https://github.com/hexschool/vue3-course-api-wiki/wiki/%E7%AE%A1%E7%90%86%E6%8E%A7%E5%88%B6%E5%8F%B0-%5B%E9%9C%80%E9%A9%97%E8%AD%89%5D#%E5%88%AA%E9%99%A4%E8%A8%82%E5%96%AE\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${ this.tempOrder.id }`;\r\n      this.$http.delete(api)\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.getOrders();\r\n            const opendelModal = this.$refs.delModal;\r\n            opendelModal.hideModal();\r\n          })\r\n    },\r\n\r\n  },\r\n\r\n  created() {\r\n    this.getOrders();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-primary text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"gotOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px;\">姓名</th>\r\n                    <td>{{ gotOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ gotOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ gotOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ gotOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ gotOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(gotOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"gotOrder.paid_date\">\r\n                        {{ $filters.date(gotOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"gotOrder.is_paid == true\" class=\"text-success\">已付款</strong>\r\n                      <strong v-else class=\"text-danger\">尚未付款</strong>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ $filters.currency(gotOrder.total) }} $\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in gotOrder.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>\r\n                      {{ item.qty }} / {{ item.product.unit }}\r\n                    </td>\r\n                    <td class=\"text-end\">\r\n                      {{ $filters.currency(item.total) }} $\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                  data-bs-dismiss=\"modal\">取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary\"\r\n                  @click=\"$emit('confirm-order', gotOrder)\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"bootstrap/js/dist/modal\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      modal: {},\r\n      gotOrder: {},\r\n      is_paid: false, // 預設狀態 未付款\r\n    };\r\n  },\r\n\r\n  props: {\r\n    propOrder: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    propOrder() {\r\n      this.gotOrder = this.propOrder;\r\n      this.is_paid = this.gotOrder.is_paid;\r\n      console.log(this.gotOrder);\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showModal() {\r\n      this.modal.show();\r\n    },\r\n    hideModal() {\r\n      this.modal.hide();\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.modal);\r\n  },\r\n};\r\n</script>","import { render } from \"./OrderModal.vue?vue&type=template&id=664f010a\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Code\\\\VueDemo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=342fb5bd\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Code\\\\VueDemo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","$props","current_page","href","onClick","$options","_Fragment","_renderList","total_pages","page","active","key","_hoisted_5","props","methods","updatePage","this","$emit","__exports__","render","_createVNode","_component_Loading","$data","_hoisted_2","item","id","_toDisplayString","_ctx","date","create_at","user","email","products","product","title","qty","unit","currency","total","type","is_paid","$event","onChange","for","_hoisted_12","_hoisted_13","_component_OrderModal","ref","propOrder","onConfirmOrder","_component_DelModal","onDelProdcut","_component_Pagination","pages","onEmitPages","tabindex","role","style","_hoisted_4","_hoisted_8","_hoisted_10","_hoisted_11","name","tel","_hoisted_14","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_32","data","modal","gotOrder","Object","default","watch","console","log","showModal","show","hideModal","hide","mounted","Modal","$refs","orders","pagination","tempOrder","isNew","isLoading","inject","components","OrderModal","DelModal","Pagination","getOrders","api","$http","get","then","res","openOrderModal","openModal","orderModal","confirmOrder","paid","put","success","emitter","emit","content","message","join","opendelModal","delModal","delOrder","delete","created"],"sourceRoot":""}