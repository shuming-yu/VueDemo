"use strict";(self["webpackChunkshuming_yu"]=self["webpackChunkshuming_yu"]||[]).push([[134],{134:function(t,i,s){s.r(i),s.d(i,{default:function(){return C}});var e=s(3396),r=s(7139);const a={class:"container"},c={"aria-label":"breadcrumb"},o={class:"breadcrumb"},d={class:"breadcrumb-item"},u=(0,e.Uk)("購物車"),n={class:"breadcrumb-item active","aria-current":"page"},l={class:"row justify-content-center"},p={class:"col-8"},h=["src"],g={class:"col-4"},m={key:0,class:"h5"},b={key:1,class:"h6"},_={key:2,class:"h5"},v=(0,e._)("hr",null,null,-1),w=["disabled"],k={key:0,class:"spinner-border spinner-border-sm",role:"status"},y=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),f=[y],$=(0,e.Uk)(" 加到購物車 ");function z(t,i,s,y,z,I){const L=(0,e.up)("Loading"),q=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(L,{active:z.isLoading},null,8,["active"]),(0,e._)("div",a,[(0,e._)("nav",c,[(0,e._)("ol",o,[(0,e._)("li",d,[(0,e.Wm)(q,{to:"/userboard/cart"},{default:(0,e.w5)((()=>[u])),_:1})]),(0,e._)("li",n,(0,r.zw)(z.product.title),1)])]),(0,e._)("div",l,[(0,e._)("article",p,[(0,e._)("h2",null,(0,r.zw)(z.product.title),1),(0,e._)("div",null,(0,r.zw)(z.product.content),1),(0,e._)("div",null,(0,r.zw)(z.product.description),1),(0,e._)("img",{src:z.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,h)]),(0,e._)("div",g,[z.product.price?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",m,(0,r.zw)(z.product.origin_price)+" 元 ",1)),z.product.price?((0,e.wg)(),(0,e.iD)("del",b,"原價 "+(0,r.zw)(z.product.origin_price)+" 元",1)):(0,e.kq)("",!0),z.product.price?((0,e.wg)(),(0,e.iD)("div",_," 現在只要 "+(0,r.zw)(z.product.price)+" 元 ",1)):(0,e.kq)("",!0),v,(0,e._)("button",{type:"button",class:"btn btn-outline-danger",disabled:this.status.loadingItem===this.id,onClick:i[0]||(i[0]=t=>I.addToCart(this.id))},[this.status.loadingItem===this.id?((0,e.wg)(),(0,e.iD)("div",k,f)):(0,e.kq)("",!0),$],8,w)])])])],64)}var I={data(){return{product:{},id:"",isLoading:!1,status:{loadingItem:""}}},inject:["emitter"],methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/shuming-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t),t.data.success&&(this.product=t.data.product),this.isLoading=!1}))},addToCart(t){this.status.loadingItem=t;const i={product_id:t,qty:1},s="https://vue3-course-api.hexschool.io/api/shuming-api/cart";this.$http.post(s,{data:i}).then((t=>{console.log(t),t.data.success?this.$swal({icon:"success",title:`將 ${this.product.title} 加入購物車！`}):this.$swal({icon:"error",title:"加入購物車失敗！"}),this.status.loadingItem="",this.$router.push("/userboard/cart")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},L=s(89);const q=(0,L.Z)(I,[["render",z]]);var C=q}}]);
//# sourceMappingURL=134.566cf0b7.js.map